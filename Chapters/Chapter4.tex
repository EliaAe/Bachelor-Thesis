\chapter{Analysis and Discussion}\label{chapter:analysis_discussion}
Idea: Show flexibility of system by marking how different use cases are support in real world application chapter, such as B2B in disaster relief efforts and B2C in tourism industry

\section{Analysis of the Prototype}


\subsection{Functional Analysis}

In this section we evaluate how well the blockchain-based weather insurance prototype fulfills the functional requirenments outline in \cref{subsection:functionalRequirements}. Each core function is evaluated with the specified requirenments.

\subsubsection{User Interaction}

The protoype successfully provides a decentralized application (dApp) as the user interface, enabling the end user to interact directly with the system. Through the dApp the user can send request for weather insurance policies as well as insurance payouts directly to the smart contract. This interaction is facilitated using a digital wallet (e.g. MetaMask), which allows the user to sign in and broadcast the transaction to the Ethereum blockchain. The user experience is kept to the bare minimum to provide an easy-to-use system, especially for non-technical users. 

\subsubsection{Weather Data Integration}

In sections \cref{subsection:purchasePolicyFlow} and \cref{subsection:policyPayoutTrigger} we outline how the smart contract is able to receive the relevant weather data from GCP through Chainlink. Through two seperate endpoints on the side of GCP, the platform which hosts Global Surface Summary of the Day (GSOD) and Global Forecast System (GFS), Chainlink is able to access both historical and forecast weather data, making it available to the smart contact. This integration ensures a decentralized access to GCP, enabling the system to meet the functional requirement of securely retreiving external weather data.

\subsubsection{Smart Contract}
As the heart of the system, the smart contracts interacts directly and indirectly with the other components, synthesizing their functions to provide a seamless and automated insurance process. In \cref{fig:purchasePolicyFlow} and \cref{fig:payoutFlow} we illustrate the different kinds of tasks the smart contract performs. These tasks combined with its interaction capabilities described in \cref{interaction_with_smartcontract} and its storing capability through the blockchain let the smart contract fulfill its requiremenets specified in \cref{section:requirements}. 

\subsubsection{Oracle Integration}

todo: remove this from functional requirements (chapter 3) and merge it with weather data integration

\subsection{Non-functional Analysis}

In this subsection, we analyze how the blockchain-based weather insurance prototype fulfills the specified non-functional and technical requirements. These requirements address the system's general characteristics, such as security, scalability, transparency, and its technical capabilities.

\subsubsection{Security}

To ensure that the interactions and transactions of the system are secure, we look at the most vulnerable points. Transactions within the blockchain ecosystem itself are inherently secure due to the decentralized mechanisms of the blockchain, which ensure immutable records (todo source). Vulnerable points exist between the end-user and the smart contract, since he has to be able to pass sensitive data onto the blockchain and between Chainlink and GCP, since this connection bridges the gap from external weather data onto the blockchain ecosystem (todo source). 

As described \cref{subsection:decentralizedApp}, users interact with the smart contract through a digital wallet, such as MetaMask. These transactions are crypthographically secured with a digital signature before being broadcasted onto the blockchain. This ensures that only authorized users can interact with the system and that sensitive data, such as policy details, is protected during the broadcasting. 

On the other side of the system we have Chainlink, which interacts in a decentralized manner with GCP, making the necessary request from all over the globe through independant nodes (see \cref{ChainlinkOracle}). This decentralized structure mitigates the risk of a single point of failure or of tampering with the external weather data.

By leveraging these robust security measures, the system effectively fulfills the securiy requirement specified in \cref{section:requirements}.

\subsubsection{Scalability}
todo: take a closer look at scalability (apparently the system could be limitaed with transaction throughput and gas fees or the data retreival from GCP might have increased latency)


\subsubsection{Transparency}
Transparency is a key aspect of the proposed system, with all transactions, policies and claims immutably recorded on the Ethereum blockchain. In sections \cref{subsection:purchasePolicyFlow} and \cref{subsection:policyPayoutTrigger} it becomes evident that all the different data involved is centrally accessable through the smart contract. In a concrete implemenation of the prototype, the smart contract needs to make sure the data is stored and presented accordingly. Such an implemenation could include tools like dashboards, in order to make the activity on the smart contract more accessible to non-technical users. In section \cref{section:real_world_application_prototype} we highlight the importance of transparency in a concrete implementation, solidifying its role as a key requirement for the prototype.

\subsubsection{Technical Capabilities}
The proposed system fulfills the technical requirements by leveraging Ethereum as the blockchain platform where the smart contract is running, Chainlink oracles for data retreival in a decentralized manner and GCP for access to realiable weather datasets. The integration and combination of these components outlined in \cref{subsection:generalOverview}, \cref{subsection:policyPayoutTrigger} and \cref{subsection:purchasePolicyFlow} ensure the system can perform all its functional requirements.

\section{Comparative Analysis}
In this chapter we comapre the blockchain-based approach used in our prototype with the traditional weather insurance model. The analysis presents key areas where our blockchain-based system offers significant improvements, such as transparency, automation and efficiency, while simultaneously we address limitations and potential trade-offs.

\subsection{Efficiency and Bureaucracy}
Traditional insurance models are often hindered through extensive bureaucracy and manual processes. Polciy creation, eligibility checks and claim payouts often involve multiple intermediares, leading to increased administrative costs. In \cref{subsection:purchasePolicyFlow} and \cref{subsection:policyPayoutTrigger} we present how in a blockchain-based system these inefficiencies can be eliminated through automated processes. A key part in that automation are the capabilities of smart contracts and blockchain technology, enabling the retrieval and validation of external data, such as weather and user data through decentralized Oracles and decentralized Apps (dApps). Such a system not only reduces the burocratic expenses but also accelerates the processing time, through which the end user can profit greatly.

Furthermore, a dApp interface provides the user with a single point of access, simplifying the interaction process and eliminating the communication challenges often encountered in traditional models such as complex paperwork or lengthy approval processes. This streamlined approach gives the blockchain-based system a significant advantage for spontaneous and short-term insurance needs, such as travel insurance (see \cref{tourism_industry}).

\subsection{User Interaction and Trust}
The proposed blockchain-based weather insurance system significantly improves user interaction while boldening trust through its transparent and decentralized design. In traditional models, users interact only with the front-end interface of an insurance provider, without insights into the backend processes. Our proposed solution offers users a clear view of the system's backend processes through the record-keeping of the smart contract on the blockchain. This transparency not only enhances the user experience by providing greater confidence in the system's operations but also boldens trust by ensuring that all transactions and processes are verifiable and immutable.

By combining the intuitive user interface of a dApp and its security feature with reliability and transparency of blockchain technology, the system not only simplifies user interaction but also builds a foundation of trust, addressing two key challenges faced by traditional insurance models. 

\subsection{Accessability and Transparency}
Traditional insurance models often rely on centralized offices and intermediaries, which can limit their reach to users in local environments. The proposed system in contrast can operate through a dApp anywhere in the world where sufficient internet infrastructure exists. Combined with the digital wallet, which can hold the necessary cryptocurrency, the system enables policy creation, eligibility checks and payouts without the need for cumbersome documentation or in-person visits. This accessibility is particularly beneficial for individuals and businesses in regions vulnerable to extreme weather events and lacking insurance infrastructure. Moreover, the users of the proposed system can view the entire lifecycle of their insurance policy, from polciy creation to payout. This level of transparency can enhance trust and user engagement, particularly among users in regions where confidence in traditional companies is inherently low. By combining a globally accessible interface with transparent blockchain record-keeping, the proposed system offers a reliable, trustworthy solution to weather-based insurance needs.

\subsection{Trade-offs and Limitations}
While the blockchain-based weather insurance system offers significant advantages over traditional models, such as transparency, efficiency, and accessibility, it also comes with trade-offs and limitations.

Regulatory Challenges: todo

\section{Discussion of Key findings}

\section{Analysis of smart contracts in the insurance industry}\label{section:analysis_smart_contracts_insurance}
//optional

